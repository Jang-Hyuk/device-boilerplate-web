<!DOCTYPE html>
<html>

<head>
  <!-- Default Js -->
  <script src="js/lodash.min.js"></script>
  <%- include("./mediaQuery.ejs") %>
  <%- include("../master/head.ejs") %>
  <script src="js/hichart/highcharts.src.js"></script>
  <script src="js/hichart/highcharts-more.js"></script>
  <script src="js/hichart/solid-gauge.js"></script>

  <script src="js/contents/master/setMenu.js"></script>
  <script src="js/contents/main/powerstatus.js"></script>
  <script src="js/contents/main/makeGaugeChart.js"></script>
</head>



<body>
  <div style="background-image: url('image/bg_1025.jpg'); background-color:#e9e9e9;">
    <div class="warp">
      <%- include("../master/header.ejs") %>
      <!--메인-->
      <div class="containerb text-center">
        <div class="box">
          <div class="cont-box-rotate_f">
            <div class="cont-box-rotate"></div>
          </div>
          <div class="deve">
            <p>발전현황</p>
            <p>Development status</p>
          </div>
          <div class="deve_1">
            <p><I>당월발전량</I></p>
            <input class="wed_1" type="text" value="10000kW">
          </div>
        </div>
        <div class="box_2">
          <p style="margin-top:10px; font-weight:bold;">금일 발전량</p>
          <div id="daily-power-graph" style="width:100%; height:60%; background-color:#e9e9e9;">Graph</div>
          <div> <span>&nbsp&nbsp &nbsp현재발전</span><input class="wed_2" type="text" value="17.7">kW</div>
          <div> <span>금일발전량</span><input class="wed_2" type="text" value="700">kW</div>
        </div>
        <div class="box_3">
          <p style="margin-top:10px; font-weight:bold;">현재 발전현황</p>
          <div id="current-power-graph" style="width:100%; height:80%; background-color:#e9e9e9;">Graph</div>
        </div>
      </div>
      <div class="containerb text-center">
        <div class="box_4">
          <div class="cont-box-rotate_s">
            <div class="cont-box-rotate_1"></div>
          </div>
          <div class="deve">
            <p>상세정보</p>
            <p>More information</p>
          </div>
          <div class="deve_1">
            <p><I>기계</I></p>
            <input class="wed_1" type="text" value="정상">
          </div>
        </div>
        <div class="box_5">
          <p>인버터 전압/전류</p>
          <div class="box_5_bg">
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전압</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="300">(v)
            </div>
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전압</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="0">(v)
            </div>
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전압</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="0">(v)
            </div>
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전류</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="300">(v)
            </div>
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전류</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="0">(v)
            </div>
            <div class="box_5_in">
              <div class="box_5_in_sp">
                <p>AC전류</p>
              </div>
              <input class="input-tx" type="text">
              <input class="wed_3" type="text" value="0">(v)
            </div>
          </div>
        </div>
        <div class="box_6">
          <div class="box_6_in">
            <div class="box_6_in_4">
              <img src="image/no1.png" />
              <p>일사량</p>
              <input class="wed_4" type="text" value="45.7"><span> W/㎥</span>
            </div>
            <div class="box_6_in_4">
              <img src="image/no2.png" />
              <p>모듈온도</p>
              <input class="wed_4" type="text" value="7.1"><span> ℃</span>
            </div>
            <div class="box_6_in_4">
              <img src="image/no3.png" />
              <p>인버터</p>
              <input class="wed_4" type="text" value="RUN">
            </div>
            <div class="box_6_in_4">
              <img src="image/no4.png" />
              <p>경보</p>
              <input class="wed_4" type="text" value="정상">
            </div>
          </div>
        </div>
      </div>
      <!--하단1-->
      <div class="container-fluid bg-3 text-center">
      </div><br>



      <%- include("../master/footer.ejs") %>
    </div>
  </div>
  <script>
    let powerGenerationInfo = <%- JSON.stringify(powerGenerationInfo) %>;
    // console.log(powerGenerationInfo)

    // 금일 발전량 차트
    makeGaugeChart({
      domId: 'daily-power-graph',
      yAxis: {
        min: 0,
        max: powerGenerationInfo.currKwYaxisMax * 6,
        title: ''
      },
      series: {
        name: '읍쓰',
        data: powerGenerationInfo.dailyPower,
        tooltip: {
          valueSuffix: 'kWh'
        }
      },
    })

    // 현재 발전량 차트
    makeGaugeChart({
      domId: 'current-power-graph',
      yAxis: {
        min: 0,
        max: powerGenerationInfo.currKwYaxisMax,
        title: ''
      },
      series: {
        name: '',
        data: powerGenerationInfo.currKw,
        tooltip: {
          valueSuffix: 'kW'
        }
      },
    })



    // 현재 날짜 세팅
    writeDateText(document.getElementById('currDate'))
  </script>
</body>

</html>